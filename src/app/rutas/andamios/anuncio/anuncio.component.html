<div class="contenedor">

  <mat-icon class="exit-btn" (click)="goBack()">arrow_back</mat-icon>
  <h1>Modificar Anuncio</h1>

  <h4>Preview de anuncio actual</h4>
  <section class="anuncio">
    <div class="row">
      <div class="col-8 textos"> {{anuncio?.text}} </div>
      <!--Corrige el link al subirlo al serividor-->
      @if (anuncio?.hasBtn){
        <div class="col link"><a href="{{anuncio.url}}">{{anuncio?.btnText}} </a></div>
      }
    </div>
  </section>

  <h4>Modificar anuncio</h4>
  <form [formGroup]="form" (ngSubmit)="update()">

    <div class="mb-3">
      <label for="exampleFormControlInput1" class="form-label" id="noCheck">Texto </label>
      <input type="text" class="form-control" id="exampleFormControlInput1" formControlName="text">
    </div>

    <div class="mb-3">
      <input class="form-check-input" type="checkbox" id="flexCheckDefault" name="check" (change)="checkValue(isChecked?true:false)" formControlName="hasBtn" />
      <label class="form-check-label" for="flexCheckDefault">
        Agregar un link
      </label>
    </div>

    @if(isChecked){
      <div class="extras" id="extra">
        <div class="mb-3">
          <label for="exampleFormControlInput1" class="form-label" id="noCheck">Texto del bot√≥n</label>
          <input type="text" class="form-control" id="exampleFormControlInput1" formControlName="btnText">
        </div>

        <div class="mb-3">
          <label for="exampleFormControlInput1" class="form-label" id="noCheck">URL</label>
          <input type="text" class="form-control" id="exampleFormControlInput1" formControlName="url">
        </div>
      </div>
    }

    <button type="button" class="btn btn-outline-danger" type="submit">Publicar</button>

  </form>
</div>

@if(loading){
  <app-loading></app-loading>
}
